{% extends 'base/base.html' %}

{% block title %}
  Nháp của {{ user }}
{% endblock %}

{% block content %}
  <div class="flex justify-center mb-8">
    <div class="w-full max-w-5xl">
      <div class="bg-white p-6 rounded-lg shadow-md">
        <!-- Profile top -->

        <div class="flex items-center space-x-6 mb-8">
          <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="w-36 h-36 rounded-full border-1 border-gray-100" />
          <div>
            <div>
              <div class="flex items-center space-x-2">
                <h2 class="text-3xl font-bold">{{ user.profile }}</h2>
              </div>
              <p class="text-gray-600 mt-2">{{ user.profile.bio|default:'No bio available.' }}</p>
              <div class="mt-3 flex space-x-4">
                <div class="text-center">
                  <p class="text-gray-500 text-sm">
                    <span>{{ user.profile.followers.count }}</span>
                    <span>followers</span>
                  </p>
                </div>
                <div class="text-center">
                  <p class="text-gray-500 text-sm">
                    <span>{{ user.profile.following.count }}</span>
                    <span>following</span>
                  </p>
                </div>
                <div class="text-center">
                  <p class="text-gray-500 text-sm">
                    <span>{{ user.profile.posts.count }}</span>
                    <span>posts</span>
                  </p>
                </div>
              </div>
            </div>
            <!--  -->
          </div>
        </div>

        <!-- Tabs Navigation -->

        <div class="text-sm font-medium text-center text-gray-500 border-b dark:text-gray-400 mb-4">
          <ul class="flex flex-wrap -mb-px">
            <li class="me-2">
              <a href="#" class="profile-tab-item inline-block p-4 border-b-2 rounded-t-lg text-green-500 border-green-500 active" ar>Bài viết nháp</a>
            </li>
          </ul>
        </div>

        <div id="default-styled-tab-content">
          {% for post in posts %}
            <div class="list py-2 w-full">
              <!-- Notification -->
              <div class="list-row w-full border border-gray-200 flex justify-between">
                <div class="cursor-pointer flex flex-col">
                  <a href="{% url 'posts:update' post.id %}" class="h-8 font-semibold text-gray-700"><span>{{ post.title }}</span></a>
                  <div class="text-xs text-gray-700 py-1">
                    <span class="font-normal">{{ post.created_at }}</span>
                  </div>
                </div>

                <div class="flex">
                  <div class="w-fit p-2 rounded-md flex items-center justify-center cursor-pointer">
                    <a href="{% url 'posts:update' post.id %}" class="flex items-center justify-center fill-gray-400 text-gray-500 hover:bg-gray-400 hover:fill-white hover:text-white btn">
                      <span>
                        <svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" height="14" width="14">
                          <path d="M12.0706 8.99645L6.60693 3.49977L8.73965 0.465607C9.09143 -0.0290938 9.77302 -0.15002 10.2677 0.201767C10.7624 0.553554 10.8833 1.23514 10.5316 1.72984L9.45421 3.25792L12.2795 6.1052L13.8406 4.95089C14.3353 4.58811 15.0168 4.69805 15.3796 5.18175C15.7424 5.67645 15.6325 6.35804 15.1488 6.72082L12.0706 8.99645Z" class="cls-1"></path>
                          <path d="M0 15.4604L0.824501 13.2178C1.06635 12.5582 1.28621 11.8656 1.4621 11.184C1.84687 9.73289 2.07773 8.2268 2.15469 6.70972L2.18767 6.07211L8.12408 3.07092L9.11348 5.02774L4.30939 7.45727C4.19946 8.8974 3.95759 10.3375 3.59481 11.7337C3.58382 11.7886 3.56184 11.8546 3.55085 11.9096C4.82608 11.5578 6.51904 11.184 8.11308 11.1071L10.3777 6.37992L12.3565 7.32535L9.49825 13.2947L8.79468 13.2837C5.98038 13.2178 2.27562 14.6029 2.24264 14.6139L0 15.4604Z" class="cls-1"></path>
                          <path d="M6.28605 8.40984L2.62793 11.9489L3.3923 12.7389L7.05042 9.19993L6.28605 8.40984Z" class="cls-1"></path>
                          <path d="M7.11289 9.30416C7.62289 9.30416 8.03635 8.89072 8.03635 8.38072C8.03635 7.87071 7.62289 7.45728 7.11289 7.45728C6.60289 7.45728 6.18945 7.87071 6.18945 8.38072C6.18945 8.89072 6.60289 9.30416 7.11289 9.30416Z" class="cls-1"></path>
                          <path d="M16.7317 18.0001H1.38498C0.780345 18.0001 0.285645 17.5054 0.285645 16.9007C0.285645 16.2961 0.780345 15.8014 1.38498 15.8014H16.7317C17.3363 15.8014 17.831 16.2961 17.831 16.9007C17.831 17.5054 17.3363 18.0001 16.7317 18.0001Z"></path>
                        </svg>
                      </span>
                      <span>Tiếp tục</span>
                    </a>
                  </div>
                  <div class="w-fit p-2 rounded-md flex items-center justify-center cursor-pointer">
                    <a href="{% url 'posts:delete' post.id %}" class="flex items-center justify-center fill-red-400 text-red-400 hover:bg-red-400 hover:fill-white hover:text-white btn">
                      <span>
                        <svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" height="14" width="14">
                          <path d="M1 16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4H1V16ZM3 6H11V16H3V6ZM10.5 1L9.5 0H4.5L3.5 1H0V3H14V1H10.5Z"></path>
                        </svg>
                      </span>
                      <span>Xóa</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
